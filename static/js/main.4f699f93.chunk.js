(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(t,e,a){"use strict";a.d(e,"h",function(){return n}),a.d(e,"m",function(){return r}),a.d(e,"f",function(){return s}),a.d(e,"d",function(){return o}),a.d(e,"c",function(){return c}),a.d(e,"l",function(){return l}),a.d(e,"a",function(){return u}),a.d(e,"e",function(){return h}),a.d(e,"j",function(){return _}),a.d(e,"n",function(){return p}),a.d(e,"k",function(){return d}),a.d(e,"i",function(){return f}),a.d(e,"g",function(){return b}),a.d(e,"b",function(){return m});var i=a(11),n=function(){return{type:i.n,payload:null}},r=function(){return{type:i.x,payload:null}},s=function(t){return{type:i.l,payload:t}},o=function(t){return{type:i.j,payload:t}},c=function(t){return{type:i.g,payload:t}},l=function(t){return{type:i.v,payload:t}},u=function(t){return{type:i.d,payload:t}},h=function(t,e,a){return{type:i.k,payload:{target:t,attribute:e,value:a}}},_=function(){return{type:i.a}},p=function(){return{type:i.c}},d=function(t){return{type:i.b,payload:t}},f=function(){return{type:i.s}},b=function(t,e){return{type:i.m,payload:{start_time:t,duration:e}}},m=function(t){return{type:i.f,payload:t}}},,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return input_types}),__webpack_require__.d(__webpack_exports__,"d",function(){return scene_action}),__webpack_require__.d(__webpack_exports__,"a",function(){return generate_unique_id}),__webpack_require__.d(__webpack_exports__,"c",function(){return scene});var _Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_DefaultObjects_RectObject__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(37),_DefaultObjects_CircleObject__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(38),_DefaultObjects_TextObject__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(39),_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),_index__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10),_SimpleBarChart_SimpleBarChart__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(42),input_types={STRING:"string",INT:"int",FLOAT:"float",DROPDOWN:"dropdown",SELECTOR:"selector",BOOLEAN:"boolean",CONST:"const",TEXT_AREA:"text_area"},scene_action={PLAY:"PLAY",PAUSE:"PAUSE",STOP:"STOP"},BluePrintLibrary=function(){function BluePrintLibrary(){Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,BluePrintLibrary),this.blueprints=[]}return Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(BluePrintLibrary,[{key:"get_num_blueprints",value:function(){return this.blueprints.length}},{key:"add_blueprint",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.blueprints[t.type]=t}},{key:"import",value:function _import(){var self=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,input=document.createElement("input");input.type="file",input.click(),input.onchange=function(e){var file=e.target.files[0],reader=new FileReader;reader.readAsText(file,"UTF-8"),reader.onload=function(readerEvent){var content=readerEvent.target.result,script=document.createElement("script"),object_name=file.name.split(".")[0];console.log(script),script.text=content,document.head.appendChild(script);var blue_print=eval(object_name+".get_blueprint()");self.add_blueprint(blue_print)}}}},{key:"remove_blueprint",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,a=0;a<e.blueprints.length;a++)e.blueprints[a]===t&&e.blueprints.splice(a,1)}},{key:"export_state",value:function(){return this.blueprints}}]),BluePrintLibrary}(),ObjectBPLib=function(t){function e(){return Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,e),Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_0__.a)(this,Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.a)(e).apply(this,arguments))}return Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(e,t),e}(BluePrintLibrary),EffectBPLib=function(t){function e(){return Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,e),Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_0__.a)(this,Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.a)(e).apply(this,arguments))}return Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(e,t),Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(e,[{key:"load_new_bps",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.blueprints=t}}]),e}(BluePrintLibrary),DefaultBPLib=function(t){function e(){var t;return Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,e),(t=Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_0__.a)(this,Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_1__.a)(e).call(this))).add_blueprint(_DefaultObjects_RectObject__WEBPACK_IMPORTED_MODULE_5__.a.get_blueprint()),t.add_blueprint(_DefaultObjects_CircleObject__WEBPACK_IMPORTED_MODULE_6__.a.get_blueprint()),t.add_blueprint(_DefaultObjects_TextObject__WEBPACK_IMPORTED_MODULE_7__.a.get_blueprint()),t.add_blueprint(_SimpleBarChart_SimpleBarChart__WEBPACK_IMPORTED_MODULE_10__.a.get_blueprint()),t}return Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(e,t),e}(BluePrintLibrary),Scene=function(){function t(e,a,i){Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,t),this.show_time=function(t){if(this.last_timestamp||(this.last_timestamp=t),this.curr_timestamp+=t-this.last_timestamp,this.last_timestamp=t,this.curr_timestamp>=this.duration)return cancelAnimationFrame(this.curr_animation_frame_req),this.curr_timestamp=this.duration,void _index__WEBPACK_IMPORTED_MODULE_9__.store.dispatch(Object(_actions__WEBPACK_IMPORTED_MODULE_8__.n)());_index__WEBPACK_IMPORTED_MODULE_9__.store.dispatch(Object(_actions__WEBPACK_IMPORTED_MODULE_8__.i)()),this.curr_animation_frame_req=requestAnimationFrame(this.show_time)}.bind(this),this.canvas_width=0,this.canvas_height=0,this.duration=e,this.graphical_objects=[],this.effect_bp_lib=new EffectBPLib,this.obj_bp_lib=new ObjectBPLib,this.default_bp_lib=new DefaultBPLib,this.curr_graphical_object=null,this.curr_effectstack=null,this.curr_timestamp=0,this.last_timestamp=null,this.curr_action=scene_action.STOP,this.show_effect_bps=!1,this.show_obj_bps=!1,this.curr_animation_frame_req=null}return Object(_Users_khainguyen_Desktop_DataAnimate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(t,[{key:"add_graphical_object",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.graphical_objects.push(t),e.set_curr_graphical_object(t),e.set_duration()}},{key:"create_graphical_object",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.create_fn(this.add_graphical_object)}},{key:"remove_graphical_object",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,a=0;a<e.graphical_objects.length;a++)e.graphical_objects[a]===t&&e.graphical_objects.splice(a,1);e.curr_graphical_object=null,e.curr_effectstack=null,this.effect_bp_lib.load_new_bps([]),t.deselect();var i=document.getElementById(t.unique_id);i.parentNode.removeChild(i)}},{key:"set_curr_graphical_object",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.graphical_objects.forEach(function(t){t.deselect()}),void 0===t||void 0===t)return this.curr_graphical_object=null,void this.effect_bp_lib.load_new_bps([]);this.curr_graphical_object=t,this.graphical_objects.forEach(function(t){t.deselect()}),this.curr_graphical_object.select();var e=this.curr_graphical_object.track.effect_stacks;this.curr_effectstack=e[0],this.effect_bp_lib.load_new_bps(this.curr_graphical_object.effect_bps)}},{key:"add_effectstack",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.curr_graphical_object.add_effectstack(t),this.curr_effectstack=t}},{key:"edit_effectstack",value:function(t){var e=t.duration,a=t.start_time;this.curr_effectstack.set_start_time(a),this.curr_effectstack.set_duration(e)}},{key:"add_effect",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!==this.curr_effectstack&&void 0!==this.curr_effectstack&&this.curr_effectstack.add_effect(t)}},{key:"remove_effect",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!==this.curr_effectstack&&void 0!==this.curr_effectstack&&this.curr_effectstack.remove_effect(t)}},{key:"import_graphical_object_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.obj_bp_lib.add_blueprint()}},{key:"import_effect_blueprint",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.effect_bp_lib.add_blueprint()}},{key:"playpauseresume",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;null!==this.curr_graphical_object&&void 0!==this.curr_graphical_object&&(this.last_timestamp=null,this.curr_action===scene_action.PLAY?(this.curr_graphical_object.select(),this.curr_action=scene_action.PAUSE,e.graphical_objects.forEach(function(t){t.pause()}),cancelAnimationFrame(this.curr_animation_frame_req)):this.curr_action===scene_action.PAUSE?(this.curr_graphical_object.deselect(),this.curr_action=scene_action.PLAY,this.curr_animation_frame_req=requestAnimationFrame(this.show_time),e.graphical_objects.forEach(function(t){t.resume()})):this.curr_action===scene_action.STOP&&(this.curr_graphical_object.deselect(),this.curr_action=scene_action.PLAY,this.curr_animation_frame_req=requestAnimationFrame(this.show_time),e.graphical_objects.forEach(function(e){e.play(t.curr_timestamp)})))}},{key:"reachTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.curr_action!==scene_action.PLAY&&(this.last_timestamp=null,this.curr_timestamp=t,e.graphical_objects.forEach(function(e){e.reachTo(t)}),cancelAnimationFrame(this.curr_animation_frame_req))}},{key:"set_duration",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).graphical_objects.forEach(function(e){e.track.set_duration(t.duration)})}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.curr_graphical_object.select(),t.graphical_objects.forEach(function(t){t.stop()}),cancelAnimationFrame(this.curr_animation_frame_req),this.curr_timestamp=0,this.last_timestamp=null,this.curr_action=scene_action.STOP}},{key:"edit_duration",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.duration=t,e.graphical_objects.forEach(function(e){e.edit_duration(t)})}},{key:"edit_attr",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.target.edit_attr(t)}},{key:"toggle_effect_bps",value:function(){this.show_effect_bps=!this.show_effect_bps}},{key:"toggle_obj_bps",value:function(){this.show_obj_bps=!this.show_obj_bps}},{key:"export_state",value:function(){var t=this;return{scene:this,current_action:this.curr_action,duration:this.duration,curr_timestamp:this.curr_timestamp,obj_blueprints:this.obj_bp_lib.export_state(),effect_blueprints:this.effect_bp_lib.export_state(),default_blueprints:this.default_bp_lib.export_state(),curr_graphical_object:null===this.curr_graphical_object?[]:this.curr_graphical_object.export_state(),curr_effectstack:null===this.curr_effectstack?[]:this.curr_effectstack.export_state(),show_obj_bps:this.show_obj_bps,show_effect_bps:this.show_effect_bps,graphical_objects:function(){var e=[];return t.graphical_objects.forEach(function(t){e.push(t.export_state())}),e}()}}}]),t}(),generate_unique_id=function(){var t=0;return function(){return t++}}(),scene=new Scene(6e4)},,,,,function(t,e,a){"use strict";a.r(e);var i=a(0),n=a.n(i),r=a(28),s=a.n(r),o=(a(48),a(49),a(3)),c=a(4),l=a(7),u=a(6),h=a(8),_=a(13),p=(a(50),30),d=10,f=30,b=a(12),m=a(15),v=a.n(m),g=(a(55),a(1)),y=a(5),x=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).word="PLAY",a.icon="fa-play",a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleClick",value:function(){this.props.playpauseresume()}},{key:"render",value:function(){var t=this;switch(this.props.current_action){case y.d.PLAY:this.word="PAUSE",this.icon="fa-pause";break;case y.d.PAUSE:this.word="RESUME",this.icon="fa-play";break;case y.d.STOP:this.word="PLAY",this.icon="fa-play";break;default:this.word="PAUSE",this.icon="fa-pause"}return console.log(this.word),n.a.createElement("button",{className:"button is-dark",onClick:function(e){return t.handleClick(e)}},n.a.createElement("span",{className:"icon is-small"},n.a.createElement("i",{className:"fas "+this.icon})))}}]),e}(n.a.Component),E=Object(b.b)(function(t){return{current_action:t.current_action,duration:t.scene.duration}},{playpauseresume:g.j,editDuration:g.f})(x),O=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleClick",value:function(){this.props.stop()}},{key:"render",value:function(){var t=this;return n.a.createElement("button",{className:"button is-dark",onClick:function(e){return t.handleClick(e)}},n.a.createElement("span",{class:"icon is-small"},n.a.createElement("i",{class:"fas fa-stop"})))}}]),e}(n.a.Component),k=Object(b.b)(null,{stop:g.n})(O),j=function(t){return n.a.createElement("div",{class:"field has-addons"},n.a.createElement("p",{class:"control"},n.a.createElement(E,null," ")),n.a.createElement("p",{className:"control"},n.a.createElement(k,null)))},w=Object(b.b)(null,{deleteObject:g.d})(function(t){return n.a.createElement("div",{className:"column is-12"},n.a.createElement("div",{className:"level",style:{height:"".concat(30,"px"),borderBottom:"1px solid grey",borderTop:"1px solid grey"}},n.a.createElement("div",{className:"level-left"},t.obj.name.value),n.a.createElement("div",{className:"level-right"},n.a.createElement("a",{className:"delete-button"},n.a.createElement("span",{className:"icon is-small"},n.a.createElement("i",{className:"fas fa-trash",onClick:function(){return t.deleteObject(t.obj.reference_object.value)}}))))))}),T=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){v()("#scrollSync2").scroll(function(){v()("#scrollSync1").scrollTop(v()(this).scrollTop())})}},{key:"render",value:function(){var t=[];return this.props.objs.forEach(function(e){var a=n.a.createElement(w,{obj:e});t.push(a)}),n.a.createElement("div",{className:"column is-2 track-name-container"},n.a.createElement("div",{className:"columns is-multiline"},n.a.createElement("div",{className:"column is-12",style:{height:"".concat(f+5.5+24,"px")}},n.a.createElement(j,null)),n.a.createElement("div",{id:"scrollSync2",style:{height:"200px",width:"100%",overflow:"auto"}},t)))}}]),e}(n.a.Component),S=a(16),A=a.n(S),C=(a(56),a(9)),P=(a(57),function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).dragMoveListener=function(t){if(0!==a.props.state.curr_graphical_object.length&&(a.editable=a.props.state.curr_graphical_object.reference_object.value===a.props.obj.reference_object.value,a.editable)){var e=t.target,i=Math.max(0,(parseFloat(e.getAttribute("data-x"))||0)+t.dx),n=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;a.props.edit_effect_stack(i/p*1e3,a.props.obj.effect_stacks[0].duration),e.setAttribute("data-x",i),e.setAttribute("data-y",n)}},a.componentDidMount=function(){if(0!==a.props.state.curr_graphical_object.length){var t=a.props.obj.reference_object.value.unique_id+"effect_stack",e=Object(C.a)(a);A()("#"+t).draggable({onmove:a.dragMoveListener,startAxis:"x",lockAxis:"x",modifiers:[A.a.modifiers.restrict({restriction:"parent",elementRect:{top:0,left:0,bottom:1,right:1}})]}).resizable({edges:{left:!0,right:!0},modifiers:[A.a.modifiers.restrictEdges({outer:"parent"}),A.a.modifiers.restrictSize({min:{width:1}})]}).on("resizemove",function(t){var a=t.target,i=parseFloat(a.getAttribute("data-x"))||0,n=parseFloat(a.getAttribute("data-y"))||0;a.style.height=t.rect.height+"px";var r=t.rect.width/p*1e3;0!==e.props.state.curr_graphical_object.length&&(e.editable=e.props.state.curr_graphical_object.reference_object.value===e.props.obj.reference_object.value,e.editable&&(i+=t.deltaRect.left,n+=t.deltaRect.top,e.props.edit_effect_stack(i/p*1e3,r),a.setAttribute("data-x",i),a.setAttribute("data-y",n)))})}},a.editable=!1,a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this,e=this.props.obj.reference_object.value.unique_id+"effect_stack",a=this.props.obj.effect_stacks[0].start_time,i=this.props.obj.effect_stacks[0].duration;0===this.props.state.curr_graphical_object.length?this.editable=!1:this.editable=this.props.state.curr_graphical_object.reference_object.value===this.props.obj.reference_object.value;var r="translate("+(a/1e3*p-1)+"px, 0px)";return n.a.createElement("div",{className:"column is-12 track",onClick:function(){t.props.setObject(t.props.obj.reference_object.value)}},n.a.createElement("div",{className:"track-border",style:{height:"".concat(30,"px"),width:"".concat(p*this.props.duration/1e3,"px"),marginLeft:"".concat(d,"px")}},n.a.createElement("div",{className:"effect_stack_timeline ",id:e,style:{transform:r,width:"".concat(p*i/1e3,"px")}})))}}]),e}(n.a.Component)),N=Object(b.b)(function(t){return{duration:t.duration,state:t}},{edit_effect_stack:g.g,setObject:g.l})(P),D=function(t){function e(){var t,a;Object(o.a)(this,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(n)))).dragMoveListener=function(t){var e=t.target,i=Math.max(0,(parseFloat(e.getAttribute("data-x"))||0)+t.dx),n=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;a.props.reachTo(i/p*1e3),e.setAttribute("data-x",i),e.setAttribute("data-y",n)},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){A()("#ruler").draggable({autoScroll:{container:"#scrollSync1"},onmove:this.dragMoveListener,startAxis:"x",lockAxis:"x",modifiers:[A.a.modifiers.restrict({restriction:document.getElementById("abc")})]}),v()("#scrollSync1").scroll(function(){v()("#scrollSync2").scrollTop(v()(this).scrollTop())})}},{key:"render",value:function(){var t=this.props.currTimestamp/1e3*p-1,e="translate("+t+"px, 0px)",a=[];return this.props.objs.forEach(function(t){var e=n.a.createElement(N,{obj:t});a.push(e)}),n.a.createElement("div",{id:"scrollSync1",className:"column is-10 track-container is-relative",style:{height:"270px",overflow:"auto"}},n.a.createElement("div",{id:"abc",style:{position:"absolute",height:"100%",width:"100%",zIndex:"-190",marginLeft:"".concat(d,"px")}}),n.a.createElement("div",{id:"ruler","data-x":t,style:{left:"".concat(d+12,"px"),transform:e}}),n.a.createElement("div",{className:"columns is-multiline"},n.a.createElement("div",{className:"column is-12"},n.a.createElement("svg",{className:"timeline"})),a))}}]),e}(n.a.Component),M=Object(b.b)(function(t){return{duration:t.duration,currTimestamp:t.curr_timestamp}},{reachTo:g.k})(D),I=function(t){function e(){var t,a;Object(o.a)(this,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(n)))).renderAxis=function(){var t=_.e(".0f"),e=_.i(".timeline").attr("width",p*a.props.duration/1e3+4*d).attr("height",f),i=_.h().domain([0,a.props.duration/1e3]).range([0,p*a.props.duration/1e3]);e.append("g").attr("transform","translate(".concat(d,",25)")).call(_.c(i).tickFormat(t).ticks(10))},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"render",value:function(){return n.a.createElement("div",{className:"columns is-paddingless",style:{overflowY:"auto",alignItems:"start"}},n.a.createElement(T,{objs:this.props.objs}),n.a.createElement(M,{objs:this.props.objs}))}}]),e}(n.a.Component),G=Object(b.b)(function(t){return{duration:t.duration,objs:t.graphical_objects}})(I),R=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){var e=this.props.attribute.desc.range[0],a=this.props.attribute.desc.range[1];if(""!==t.target.value&&null!==t.target.value&&void 0!==t.target.value||(t.target.value=0),!(parseInt(t.target.value)<e||parseInt(t.target.value)>a)&&/^[0-9\b]+$/.test(t.target.value)){var i=this.props.attribute.reference_object;this.props.editAttribute(i,this.props.attribute.key,t.target.value)}}},{key:"render",value:function(){return n.a.createElement("div",{class:"field is-horizontal"},n.a.createElement("div",{class:"field-label is-small"},n.a.createElement("label",{class:"label"},this.props.attribute.key)),n.a.createElement("div",{class:"field-body"},n.a.createElement("div",{class:"field"},n.a.createElement("div",{class:"control"},n.a.createElement("input",{class:"input",value:this.props.attribute.desc.value,type:"text",pattern:"[0-9]*",onChange:this.handleChange})))))}}]),e}(n.a.Component),z=Object(b.b)(null,{editAttribute:g.e})(R),B=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){var e=this.props.attribute.desc.range[0],a=this.props.attribute.desc.range[1];if(""!==t.target.value&&null!==t.target.value&&void 0!==t.target.value||(t.target.value=e),!(parseFloat(t.target.value)<e||parseInt(t.target.value)>a)){var i=this.props.attribute.reference_object;this.props.editAttribute(i,this.props.attribute.key,t.target.value)}}},{key:"render",value:function(){return n.a.createElement("div",{class:"field is-horizontal"},n.a.createElement("div",{class:"field-label is-small"},n.a.createElement("label",{class:"label"},this.props.attribute.key)),n.a.createElement("div",{class:"field-body"},n.a.createElement("div",{class:"field"},n.a.createElement("div",{class:"control"},n.a.createElement("input",{class:"input",type:"number",step:"0.01",value:this.props.attribute.desc.value,onChange:this.handleChange}),"                        "))))}}]),e}(n.a.Component),L=Object(b.b)(null,{editAttribute:g.e})(B),U=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){var e=this.props.attribute.reference_object;this.props.editAttribute(e,this.props.attribute.key,t.target.value)}},{key:"render",value:function(){return n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label is-small"},n.a.createElement("label",{className:"label"},this.props.attribute.key)),n.a.createElement("div",{class:"field-body"},n.a.createElement("div",{class:"field"},n.a.createElement("div",{class:"control"},n.a.createElement("input",{type:"text",class:"input",value:this.props.attribute.desc.value,onChange:this.handleChange})))))}}]),e}(n.a.Component),F=Object(b.b)(null,{editAttribute:g.e})(U),X=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){var e=this.props.attribute.reference_object;this.props.editAttribute(e,this.props.attribute.key,1-t.target.value)}},{key:"render",value:function(){return n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label is-small"},n.a.createElement("label",{className:"label"},this.props.attribute.key)),n.a.createElement("div",{className:"field-body"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"checkbox"},n.a.createElement("input",{className:"checkbox",type:"checkbox",value:this.props.attribute.desc.value,checked:1===this.props.attribute.desc.value,onChange:this.handleChange}))))))}}]),e}(n.a.Component),V=Object(b.b)(null,{editAttribute:g.e})(X),Y=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){var e=this.props.attribute.desc.range[0],a=this.props.attribute.desc.range[1];console.log(e,a),parseFloat(t.target.value)<e||parseInt(t.target.value)}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("label",null," ",this.props.attribute.key),n.a.createElement("input",{type:"number",step:"0.01",value:this.props.attribute.desc.value,onChange:this.handleChange}))}}]),e}(n.a.Component),q=Object(b.b)(null,{editAttribute:g.e})(Y),W=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){var e=this.props.attribute.desc.range[0],a=this.props.attribute.desc.range[1];if(console.log(e,a),!(parseFloat(t.target.value)<e||parseInt(t.target.value)>a)){var i=this.props.attribute.reference_object;this.props.editAttribute(i,this.props.attribute.key,t.target.value)}}},{key:"handleSubmit",value:function(t){alert("A name was submitted: "+this.state.value),t.preventDefault()}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("label",null," ",this.props.attribute.key),n.a.createElement("input",{type:"number",step:"0.01",value:this.props.attribute.desc.value,onChange:this.handleChange}))}}]),e}(n.a.Component),K=Object(b.b)(null,{editAttribute:g.e})(W),J=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).current_bp=null,a.bp_dict={},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleClick",value:function(t){console.log(this.current_bp),this.props.addEffect(this.current_bp)}},{key:"select",value:function(t){this.current_bp=this.bp_dict[t.target.value]}},{key:"render",value:function(){var t=this,e=[];this.props.blueprints.forEach(function(a){t.bp_dict[a.name]=a;var i=n.a.createElement("option",{value:a.name},a.name);e.push(i)}),this.current_bp=this.bp_dict[Object.keys(this.bp_dict)[0]];var a=document.getElementById("effect_selector");return null!==a&&(console.log(a),document.getElementById("effect_selector").selectedIndex=0),n.a.createElement("div",{class:"field has-addons"},n.a.createElement("div",{class:"control is-expanded"},n.a.createElement("div",{class:"select is-fullwidth"},n.a.createElement("select",{id:"effect_selector",name:"effect",onChange:function(e){return t.select(e)}},e))),n.a.createElement("div",{class:"control"},n.a.createElement("button",{type:"submit",className:"button is-dark",onClick:function(e){return t.handleClick(e)}},n.a.createElement("span",{class:"icon is-small"},n.a.createElement("i",{class:"fas fa-plus"})))))}}]),e}(n.a.Component),H=Object(b.b)(function(t){return{blueprints:t.effect_blueprints}},{addEffect:g.a})(J),$=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t,e,a=this,i=[],r=[];e=n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label is-small"},n.a.createElement("label",{className:"label"},"duration")),n.a.createElement("div",{className:"field-body"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",value:this.props.reference_object.duration,type:"text",pattern:"[0-9]*",onChange:function(t){a.props.edit_effect_stack(a.props.reference_object.start_time,t.target.value)}}))))),i.push(e),e=e=n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label is-small"},n.a.createElement("label",{className:"label"},"start time")),n.a.createElement("div",{className:"field-body"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",value:this.props.reference_object.start_time,type:"text",pattern:"[0-9]*",onChange:function(t){a.props.edit_effect_stack(t.target.value,a.props.reference_object.duration)}}))))),i.push(e);var s=n.a.createElement("div",null,n.a.createElement("h3",{className:"title"},"Effect Stack"),i,n.a.createElement("hr",null));r.push(s);var o=this.props.reference_object.effects;return o?(o.forEach(function(a){i=[],Object.keys(a).forEach(function(r){switch(t={key:r,desc:a[r],reference_object:a.reference_object.value},a[r].type){case y.b.INT:e=n.a.createElement(z,{attribute:t}),i.push(e);break;case y.b.FLOAT:e=n.a.createElement(L,{attribute:t}),i.push(e);break;case y.b.BOOLEAN:e=n.a.createElement(V,{attribute:t}),i.push(e);break;case y.b.DROPDOWN:e=n.a.createElement(q,{attribute:t}),i.push(e);break;case y.b.SELECTOR:e=n.a.createElement(K,{attribute:t}),i.push(e);break;case y.b.STRING:e=n.a.createElement(F,{attribute:t}),i.push(e)}});var s=a.name.value,o=n.a.createElement("div",null,n.a.createElement("h3",{className:"title"},s),i,n.a.createElement("hr",null));r.push(o)}),n.a.createElement(n.a.Fragment,null,r,n.a.createElement(H,null))):n.a.createElement(n.a.Fragment,null)}}]),e}(n.a.Component),Q=Object(b.b)(function(t){return{reference_object:t.curr_effectstack}},{edit_effect_stack:g.g})($),Z=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){var e=this.props.attribute.reference_object;this.props.editAttribute(e,this.props.attribute.key,t.target.value)}},{key:"render",value:function(){return n.a.createElement("div",{class:"field is-horizontal"},n.a.createElement("div",{class:"field-label is-small"},n.a.createElement("label",{class:"label"},this.props.attribute.key)),n.a.createElement("div",{class:"field-body"},n.a.createElement("div",{class:"field"},n.a.createElement("div",{class:"control"},n.a.createElement("textarea",{class:"textarea",rows:"10",value:this.props.attribute.desc.value,onChange:this.handleChange})))))}}]),e}(n.a.Component),tt=Object(b.b)(null,{editAttribute:g.e})(Z),et=Object(b.b)(function(t){return{reference_object:t.curr_graphical_object}},null)(function(t){var e,a,i=[];Object.keys(t.reference_object).forEach(function(r){switch(e={key:r,desc:t.reference_object[r],reference_object:t.reference_object.reference_object.value},t.reference_object[r].type){case y.b.INT:a=n.a.createElement(z,{attribute:e}),i.push(a);break;case y.b.FLOAT:a=n.a.createElement(L,{attribute:e}),i.push(a);break;case y.b.BOOLEAN:a=n.a.createElement(V,{attribute:e}),i.push(a);break;case y.b.DROPDOWN:a=n.a.createElement(q,{attribute:e}),i.push(a);break;case y.b.SELECTOR:a=n.a.createElement(K,{attribute:e}),i.push(a);break;case y.b.STRING:a=n.a.createElement(F,{attribute:e}),i.push(a);break;case y.b.TEXT_AREA:a=n.a.createElement(tt,{attribute:e}),i.push(a)}});return n.a.createElement(n.a.Fragment,null," ",i)}),at=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).component="attributes",a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"handleClick",value:function(t){this.component=t,this.forceUpdate()}},{key:"render",value:function(){var t=this;return"attributes"===this.component?n.a.createElement("div",null,n.a.createElement("div",{className:"tabs is-toggle is-fullwidth "},n.a.createElement("ul",null,n.a.createElement("li",{className:"is-active",onClick:function(e){return t.handleClick("attributes")}},n.a.createElement("a",null,n.a.createElement("span",null,"Attributes"))),n.a.createElement("li",{onClick:function(e){return t.handleClick("effects")}},n.a.createElement("a",null,n.a.createElement("span",null,"Effects"))))),n.a.createElement(et,null)):n.a.createElement("div",null,n.a.createElement("div",{className:"tabs is-toggle is-fullwidth"},n.a.createElement("ul",null,n.a.createElement("li",{onClick:function(e){return t.handleClick("attributes")}},n.a.createElement("a",null,n.a.createElement("span",null,"Attributes"))),n.a.createElement("li",{className:"is-active",onClick:function(e){return t.handleClick("effects")}},n.a.createElement("a",null,n.a.createElement("span",null,"Effects"))))),n.a.createElement(Q,null))}}]),e}(n.a.Component),it=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("a",{className:"panel-block",onClick:function(){return t.props.createObject(t.props.blueprint)}},n.a.createElement("span",{className:"panel-icon is-marginless"},n.a.createElement("i",{className:"fas "+this.props.blueprint.icon_representation,"aria-hidden":"true"})))}}]),e}(n.a.Component),nt=Object(b.b)(null,{createObject:g.c})(it),rt=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("a",{className:"panel-block",onClick:function(){return t.props.emptySelection()}},n.a.createElement("span",{className:"panel-icon is-marginless"},n.a.createElement("i",{className:"fas fa-mouse-pointer","aria-hidden":"true"})))}}]),e}(n.a.Component),st=Object(b.b)(null,{emptySelection:g.h})(rt),ot=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("a",{className:"panel-block",onClick:function(){return t.props.showMoreObjects()}},n.a.createElement("span",{className:"panel-icon is-marginless"},n.a.createElement("i",{className:"fas fa-chart-bar","aria-hidden":"true"})))}}]),e}(n.a.Component),ct=(Object(b.b)(null,{showMoreObjects:g.m})(ot),Object(b.b)(function(t){return{blueprints:t.default_blueprints}},null)(function(t){var e,a=[];return e=n.a.createElement(st,null),a.push(e),Object.keys(t.blueprints).forEach(function(i){console.log(t.blueprints),e=n.a.createElement(nt,{blueprint:t.blueprints[i]}),a.push(e)}),n.a.createElement("div",{className:"panel",style:{position:"absolute",left:"0",top:"10%"}},a)}));var lt=Object(b.b)(null,{createObject:g.c})(function(t){return n.a.createElement("section",{className:"hero is-fullheight is-relative"},n.a.createElement("div",{className:"columns is-paddingless is-marginless is-multiline is-background-div"},n.a.createElement("div",{className:"is-view-element-container is-header-container"}),n.a.createElement("div",{className:"column is-four-fifths is-view-container"},n.a.createElement("div",{className:"columns is-multiline"},n.a.createElement("div",{className:"column is-12 is-view-element-container is-screen-container is-relative"},n.a.createElement("svg",{style:{position:"absolute",left:"50px"},id:"canvas",width:"90%",height:"90%"}),n.a.createElement(ct,null)),n.a.createElement("div",{className:"column is-12 is-view-element-container is-timeline-container"},n.a.createElement(G,null)))),n.a.createElement("div",{className:"column is-view-element-container is-menu-container"},n.a.createElement(at,null))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(58),a(59);var ut=a(11),ht=a(29);a.d(e,"store",function(){return _t});var _t=Object(ht.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ut.n:return t.scene.set_curr_graphical_object(),t.scene.export_state();case ut.s:return t.scene.export_state();case ut.g:return t.scene.create_graphical_object(e.payload),t.scene.export_state();case ut.t:return t.scene.export_state();case ut.j:return t.scene.remove_graphical_object(e.payload),t.scene.export_state();case ut.v:return t.scene.set_curr_graphical_object(e.payload),t.scene.export_state();case ut.f:return t.scene.add_graphical_object(e.payload),t.scene.export_state();case ut.d:return t.scene.add_effect(e.payload),t.scene.export_state();case ut.h:return t.scene.remove_effect(e.payload),t.scene.export_state();case ut.y:return t.scene.toggle_effect_bps(),t.scene.export_state();case ut.z:return t.scene.toggle_obj_bps(),t.scene.export_state();case ut.e:return t.scene.add_effectstack(e.payload),t.scene.export_state();case ut.m:return t.scene.edit_effectstack(e.payload),t.scene.export_state();case ut.i:return t.scene.remove_effectstack(),t.scene.export_state();case ut.u:return t.scene.set_curr_effectstack(e.payload),t.scene.export_state();case ut.r:return t.scene.import_graphical_object_blueprint(),t.scene.export_state();case ut.q:return t.scene.import_effect_blueprint(),t.scene.export_state();case ut.a:return t.scene.playpauseresume(),t.scene.export_state();case ut.b:return t.scene.reachTo(e.payload),t.scene.export_state();case ut.c:return t.scene.stop(),t.scene.export_state();case ut.k:return t.scene.edit_attr(e.payload),t.scene.export_state();case ut.l:return t.scene.edit_duration(e.payload),t.scene.export_state();default:return console.log(t),t}},y.c.export_state(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(n.a.createElement(b.a,{store:_t},n.a.createElement(lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},function(t,e,a){"use strict";a.d(e,"t",function(){return i}),a.d(e,"j",function(){return n}),a.d(e,"v",function(){return r}),a.d(e,"f",function(){return s}),a.d(e,"g",function(){return o}),a.d(e,"l",function(){return c}),a.d(e,"d",function(){return l}),a.d(e,"h",function(){return u}),a.d(e,"e",function(){return h}),a.d(e,"i",function(){return _}),a.d(e,"u",function(){return p}),a.d(e,"q",function(){return d}),a.d(e,"r",function(){return f}),a.d(e,"a",function(){return b}),a.d(e,"c",function(){return m}),a.d(e,"b",function(){return v}),a.d(e,"m",function(){return g}),a.d(e,"k",function(){return y}),a.d(e,"o",function(){return x}),a.d(e,"p",function(){return E}),a.d(e,"x",function(){return O}),a.d(e,"w",function(){return k}),a.d(e,"n",function(){return j}),a.d(e,"y",function(){return w}),a.d(e,"z",function(){return T}),a.d(e,"s",function(){return S});var i="SELECT_OBJECT",n="DELETE_OBJECT",r="SET_OBJECT",s="ADD_OBJECT",o="CREATE_OBJECT",c="EDIT_DURATION",l="ADD_EFFECT",u="DELETE_EFFECT",h="ADD_EFFECT_STACK",_="DELETE_EFFECT_STACK",p="SET_EFFECT_STACK",d="IMPORT_EFFECT_BP",f="IMPORT_OBJECT_BP",b="ACTION_PLAYPAUSERESUME",m="ACTION_STOP",v="ACTION_REACH_TIME",g="EDIT_EFFECT_STACK",y="EDIT_ATTRIBUTE",x="IMPORT_BLUEPRINT",E="IMPORT_EFFECT",O="SHOW_MORE_OBJECTS",k="SHOW_EFFECTS",j="EMPTY_SELECTION",w="TOGGLE_EFFECT_BPS",T="TOGGLE_OBJ_BPS",S="PLAYING"},,,,,,,function(t,e,a){"use strict";var i=a(14),n=a(3),r=a(4),s=function(){function t(e){Object(n.a)(this,t),this.actor=e,this.effect_stacks=[],this.duration=0}return Object(r.a)(t,[{key:"add_effectstack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.effect_stacks.push(t),e.effect_stacks=e.effect_stacks.sort(function(t,e){return t.start_time>e.start_time?1:-1})}},{key:"remove_effect_stack",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,a=0;a<e.effect_stacks.length;a++)e.effect_stacks[a]===t&&e.effect_stacks.splice(a,1)}},{key:"set_duration",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this).duration=t}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this).effect_stacks.forEach(function(e){e.play(t)})}},{key:"pause",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).effect_stacks.forEach(function(t){t.pause()})}},{key:"resume",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).effect_stacks.forEach(function(t){t.resume()})}},{key:"stop",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).effect_stacks.forEach(function(t){t.stop(),t.reachTo(0)})}},{key:"reachTo",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this).effect_stacks.forEach(function(e){e.reachTo(t)})}},{key:"edit_duration",value:function(t){this.duration=t}},{key:"export_state",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return{duration:this.duration,effect_stacks:function(){var e=[];return t.effect_stacks.forEach(function(t){e.push(t.export_state())}),e}()}}}]),t}(),o=a(5),c=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;Object(n.a)(this,t),this.actor=e,this.duration=i,this.track=this.actor.track,this.start_time=a,this.effects=[],this.enabled=!0,this.scheduled=[]}return Object(r.a)(t,[{key:"set_duration",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;parseFloat(t)+parseFloat(e.start_time)>this.track.duration||(e.duration=t,e.effects.forEach(function(t){t.duration=e.duration}))}},{key:"set_start_time",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.start_time=t,e.effects.forEach(function(t){t.start_time=e.start_time})}},{key:"add_effect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,a=t.create_fn(this);return e.effects.push(a),console.log(a),a}},{key:"remove_effect",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,a=0;a<e.effects.length;a++)e.effects[a]===t&&e.effects.splice(a,1)}},{key:"enable_effect",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.enable()}},{key:"disable_effect",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.disable()}},{key:"enable",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).enable=!0}},{key:"disable",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).enable=!1}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;0!==e.start_time&&e.actor.SVG_reference.hide();var a=setTimeout(function(){e.actor.SVG_reference.show()},e.start_time);e.scheduled.push(a),a=setTimeout(function(){e.actor.SVG_reference.hide()},e.start_time+e.duration),e.scheduled.push(a),e.effects.forEach(function(a){if(t<e.start_time+e.duration)if(e.start_time>=t){var i=setTimeout(function(){a.play()},e.start_time-t);e.scheduled.push(i)}else a.play(t-e.start_time)})}},{key:"pause",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).effects.forEach(function(t){t.pause()})}},{key:"resume",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).effects.forEach(function(t){t.resume()})}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.actor.SVG_reference.show(),t.effects.forEach(function(t){t.stop()}),t.scheduled.forEach(function(t){clearTimeout(t)}),t.scheduled=[]}},{key:"reachTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.effects.forEach(function(a){e.start_time<=t<=e.start_time+e.duration&&a.reachTo(t-e.start_time)})}},{key:"export_state",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return{reference_object:this,duration:this.duration,start_time:this.start_time,enabled:this.enabled,effects:function(){var e=[];return t.effects.forEach(function(t){e.push(t.export_state())}),e}()}}}]),t}(),l=a(1),u=a(10),h=function(){function t(e,a,i,r,l){Object(n.a)(this,t),this.type="",this.name=l,this.total_width=i,this.total_height=r,this.x=e,this.y=a,this.opacity=1,this.track=new s(this),this.data=null,this.SVG_reference=null,this.show=1,this.unique_id="graphicalObject_"+Object(o.a)(),this.effect_bps=[],this.track.add_effectstack(new c(this,0,o.c.duration))}return Object(r.a)(t,[{key:"select",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.SVG_reference.selectize().draggable().resize()}},{key:"deselect",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.SVG_reference.selectize(!1).draggable(!1).resize(!1)}},{key:"view_as_DOM",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"set_on_click",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.SVG_reference.on("click",function(e){u.store.dispatch(Object(l.l)(t))})}},{key:"remove_effectstack",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.track.remove_effectstack(t)}},{key:"add_effectstack",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.track.add_effectstack(t)}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this).track.play(t)}},{key:"pause",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).track.pause()}},{key:"resume",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).track.resume()}},{key:"reachTo",value:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this).track.reachTo(t)}},{key:"stop",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).track.stop()}},{key:"edit_duration",value:function(t){this.track.edit_duration(t)}},{key:"edit_default_attr",value:function(t){if(t){var e=t.attribute,a=t.value;switch(e){case"name":return void(this.name=a);case"height":this.total_height=a,this.SVG_reference.attr("height",this.total_height);break;case"width":this.total_width=a,this.SVG_reference.attr("width",this.total_width);break;case"x":this.x=a,this.SVG_reference.attr("x",this.x);break;case"y":this.y=a,this.SVG_reference.attr("y",this.y);break;case"opacity":this.opacity=a,this.SVG_reference.attr("opacity",this.opacity);break;case"show":this.show=a,1===this.show?this.SVG_reference.show():this.SVG_reference.hide()}}}},{key:"edit_attr",value:function(t){this.edit_default_attr(t)}},{key:"export_default_attributes",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{name:{type:o.b.STRING,range:"",tooltips:"The name of the graphical object",value:this.name},width:{type:o.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],value:this.total_width},height:{type:o.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],value:this.total_height},x:{type:o.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],value:this.x},y:{type:o.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],value:this.y},opacity:{type:o.b.FLOAT,range:[0,1],value:this.opacity},reference_object:{type:void 0,range:void 0,value:this},show:{type:o.b.BOOLEAN,range:[0,1],value:this.show}}}},{key:"export_attributes",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).export_default_attributes()}},{key:"export_animation_effects",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"export_state",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(i.a)({},this.track.export_state(),this.export_attributes())}}]),t}();e.a=h},,function(t,e,a){"use strict";var i=a(3),n=a(4),r=a(2),s=function(t){return t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}},o=function(){function t(e){Object(i.a)(this,t),e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}return Object(n.a)(t,[{key:"init",value:function(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag)):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}},{key:"startDrag",value:function(t){var e=!t.type.indexOf("mouse");if((!e||1===(t.which||t.buttons))&&!this.el.fire("beforedrag",{event:t,handler:this}).defaultPrevented){t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(s(t));var a=(e?"mousemove":"touchmove")+".drag",i=(e?"mouseup":"touchcancel.drag touchend")+".drag";Object(r.on)(window,a,this.drag),Object(r.on)(window,i,this.endDrag),this.el.fire("dragstart",{event:t,handler:this,box:this.box})}}},{key:"drag",value:function(t){var e=this.box,a=this.lastClick,i=this.el.point(s(t)),n=e.x+(i.x-a.x),o=e.y+(i.y-a.y),c=new r.Box(n,o,e.w,e.h);if(!this.el.fire("dragmove",{event:t,handler:this,box:c}).defaultPrevented)return this.move(n,o),c}},{key:"move",value:function(t,e){"svg"===this.el.type?r.G.prototype.move.call(this.el,t,e):this.el.move(t,e)}},{key:"endDrag",value:function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,handler:this,box:e}),Object(r.off)(window,"mousemove.drag"),Object(r.off)(window,"touchmove.drag"),Object(r.off)(window,"mouseup.drag"),Object(r.off)(window,"touchend.drag"),this.init(!0)}}]),t}();Object(r.extend)(r.Element,{draggable:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(this.remember("_draggable")||new o(this)).init(t),this}})},function(t,e,a){"use strict";var i=a(2),n=a.n(i);function r(t,e,a){this.el=t,t.remember("_paintHandler",this);var i=this,r=this.getPlugin();for(var s in this.parent=t.parent(n.a.Nested)||t.parent(n.a.Doc),this.p=this.parent.node.createSVGPoint(),this.m=null,this.startPoint=null,this.lastUpdateCall=null,this.options={},this.set=new n.a.Set,this.el.draw.defaults)this.options[s]=this.el.draw.defaults[s],"undefined"!==typeof a[s]&&(this.options[s]=a[s]);for(var s in r.point&&(r.pointPlugin=r.point,delete r.point),r)this[s]=r[s];e||this.parent.on("click.draw",function(t){i.start(t)})}r.prototype.transformPoint=function(t,e){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(this.m)},r.prototype.start=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset},this.options.snapToGrid*=Math.sqrt(this.m.a*this.m.a+this.m.b*this.m.b),this.startPoint=this.snapToGrid(this.transformPoint(t.clientX,t.clientY)),this.init&&this.init(t),this.el.fire("drawstart",{event:t,p:this.p,m:this.m}),n.a.on(window,"mousemove.draw",function(t){e.update(t)}),this.start=this.point},r.prototype.point=function(t){return this.point!=this.start?this.start(t):this.pointPlugin?this.pointPlugin(t):void this.stop(t)},r.prototype.stop=function(t){t&&this.update(t),this.clean&&this.clean(),n.a.off(window,"mousemove.draw"),this.parent.off("click.draw"),this.el.forget("_paintHandler"),this.el.draw=function(){},this.el.fire("drawstop")},r.prototype.update=function(t){!t&&this.lastUpdateCall&&(t=this.lastUpdateCall),this.lastUpdateCall=t,this.m=this.el.node.getScreenCTM().inverse(),this.calc(t),this.el.fire("drawupdate",{event:t,p:this.p,m:this.m})},r.prototype.done=function(){this.calc(),this.stop(),this.el.fire("drawdone")},r.prototype.cancel=function(){this.stop(),this.el.remove(),this.el.fire("drawcancel")},r.prototype.snapToGrid=function(t){var e=null;if(t.length)return e=[t[0]%this.options.snapToGrid,t[1]%this.options.snapToGrid],t[0]-=e[0]<this.options.snapToGrid/2?e[0]:e[0]-this.options.snapToGrid,t[1]-=e[1]<this.options.snapToGrid/2?e[1]:e[1]-this.options.snapToGrid,t;for(var a in t)e=t[a]%this.options.snapToGrid,t[a]-=(e<this.options.snapToGrid/2?e:e-this.options.snapToGrid)+(e<0?this.options.snapToGrid:0);return t},r.prototype.param=function(t,e){this.options[t]=null===e?this.el.draw.defaults[t]:e,this.update()},r.prototype.getPlugin=function(){return this.el.draw.plugins[this.el.type]},n.a.extend(n.a.Element,{draw:function(t,e,a){t instanceof Event||"string"===typeof t||(e=t,t=null);var i=this.remember("_paintHandler")||new r(this,t,e||{});return t instanceof Event&&i.start(t),i[t]&&i[t](e,a),this}}),n.a.Element.prototype.draw.defaults={snapToGrid:1},n.a.Element.prototype.draw.extend=function(t,e){var a={};for(var i in"string"===typeof t?a[t]=e:a=t,a){var r=i.trim().split(/\s+/);for(var s in r)n.a.Element.prototype.draw.plugins[r[s]]=a[i]}},n.a.Element.prototype.draw.plugins={}},function(t,e,a){"use strict";var i=a(2);a.n(i).a.Element.prototype.draw.extend("circle",{init:function(t){var e=this.startPoint;this.el.attr({cx:e.x,cy:e.y,r:1})},calc:function(t){var e=this.transformPoint(t.clientX,t.clientY),a={cx:this.startPoint.x,cy:this.startPoint.y,r:Math.sqrt((e.x-this.startPoint.x)*(e.x-this.startPoint.x)+(e.y-this.startPoint.y)*(e.y-this.startPoint.y))};this.snapToGrid(a),this.el.attr(a)}})},function(t,e,a){"use strict";var i=a(2);a.n(i).a.Element.prototype.draw.extend("ellipse",{init:function(t){var e=this.startPoint;this.el.attr({cx:e.x,cy:e.y,rx:1,ry:1})},calc:function(t){var e=this.transformPoint(t.clientX,t.clientY),a={cx:this.startPoint.x,cy:this.startPoint.y,rx:Math.abs(e.x-this.startPoint.x),ry:Math.abs(e.y-this.startPoint.y)};this.snapToGrid(a),this.el.attr(a)}})},function(t,e,a){"use strict";var i=a(2),n=a.n(i);n.a.Element.prototype.draw.extend("line polyline polygon",{init:function(t){this.set=new n.a.Set;var e=this.startPoint,a=[[e.x,e.y],[e.x,e.y]];this.el.plot(a),this.drawCircles()},calc:function(t){var e=this.el.array().valueOf();if(e.pop(),t){var a=this.transformPoint(t.clientX,t.clientY);e.push(this.snapToGrid([a.x,a.y]))}this.el.plot(e),this.drawCircles()},point:function(t){if(this.el.type.indexOf("poly")>-1){var e=this.transformPoint(t.clientX,t.clientY),a=this.el.array().valueOf();return a.push(this.snapToGrid([e.x,e.y])),this.el.plot(a),this.drawCircles(),void this.el.fire("drawpoint",{event:t,p:{x:e.x,y:e.y},m:this.m})}this.stop(t)},clean:function(){this.set.each(function(){this.remove()}),this.set.clear(),delete this.set},drawCircles:function(){var t=this.el.array().valueOf();this.set.each(function(){this.remove()}),this.set.clear();for(var e=0;e<t.length;++e){this.p.x=t[e][0],this.p.y=t[e][1];var a=this.p.matrixTransform(this.parent.node.getScreenCTM().inverse().multiply(this.el.node.getScreenCTM()));this.set.add(this.parent.circle(5).stroke({width:1}).fill("#ccc").center(a.x,a.y))}},undo:function(){this.set.length()&&(this.set.members.splice(-2,1)[0].remove(),this.el.array().value.splice(-2,1),this.el.plot(this.el.array()),this.el.fire("undopoint"))}})},function(t,e,a){"use strict";var i=a(2);a.n(i).a.Element.prototype.draw.extend("rect image",{init:function(t){var e=this.startPoint;this.el.attr({x:e.x,y:e.y,height:0,width:0})},calc:function(t){var e={x:this.startPoint.x,y:this.startPoint.y},a=this.transformPoint(t.clientX,t.clientY);e.width=a.x-e.x,e.height=a.y-e.y,this.snapToGrid(e),e.width<0&&(e.x=e.x+e.width,e.width=-e.width),e.height<0&&(e.y=e.y+e.height,e.height=-e.height),this.el.attr(e)}})},function(t,e,a){"use strict";var i=a(2),n=a.n(i);(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,a){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(a||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var a in this.options={},this.el.resize.defaults)this.options[a]=this.el.resize.defaults[a],"undefined"!==typeof t[a]&&(this.options[a]=t[a]);this.el.on("lt.resize",function(t){e.resize(t||window.event)}),this.el.on("rt.resize",function(t){e.resize(t||window.event)}),this.el.on("rb.resize",function(t){e.resize(t||window.event)}),this.el.on("lb.resize",function(t){e.resize(t||window.event)}),this.el.on("t.resize",function(t){e.resize(t||window.event)}),this.el.on("r.resize",function(t){e.resize(t||window.event)}),this.el.on("b.resize",function(t){e.resize(t||window.event)}),this.el.on("l.resize",function(t){e.resize(t||window.event)}),this.el.on("rot.resize",function(t){e.resize(t||window.event)}),this.el.on("point.resize",function(t){e.resize(t||window.event)}),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var a=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(a.x,a.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var i=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[i[t.detail.i][0],i[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var a=this.snapToGrid(t,e);if(this.parameters.box.width-a[0]>0&&this.parameters.box.height-a[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+a[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-a[0]);a=this.checkAspectRatio(a),this.el.move(this.parameters.box.x+a[0],this.parameters.box.y+a[1]).size(this.parameters.box.width-a[0],this.parameters.box.height-a[1])}};break;case"rt":this.calc=function(t,e){var a=this.snapToGrid(t,e,2);if(this.parameters.box.width+a[0]>0&&this.parameters.box.height-a[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-a[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+a[0]);a=this.checkAspectRatio(a,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+a[1]).size(this.parameters.box.width+a[0],this.parameters.box.height-a[1])}};break;case"rb":this.calc=function(t,e){var a=this.snapToGrid(t,e,0);if(this.parameters.box.width+a[0]>0&&this.parameters.box.height+a[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-a[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+a[0]);a=this.checkAspectRatio(a),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+a[0],this.parameters.box.height+a[1])}};break;case"lb":this.calc=function(t,e){var a=this.snapToGrid(t,e,1);if(this.parameters.box.width-a[0]>0&&this.parameters.box.height+a[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+a[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-a[0]);a=this.checkAspectRatio(a,!0),this.el.move(this.parameters.box.x+a[0],this.parameters.box.y).size(this.parameters.box.width-a[0],this.parameters.box.height+a[1])}};break;case"t":this.calc=function(t,e){var a=this.snapToGrid(t,e,2);if(this.parameters.box.height-a[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+a[1]).height(this.parameters.box.height-a[1])}};break;case"r":this.calc=function(t,e){var a=this.snapToGrid(t,e,0);if(this.parameters.box.width+a[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+a[0])}};break;case"b":this.calc=function(t,e){var a=this.snapToGrid(t,e,0);if(this.parameters.box.height+a[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+a[1])}};break;case"l":this.calc=function(t,e){var a=this.snapToGrid(t,e,1);if(this.parameters.box.width-a[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+a[0],this.parameters.box.y).width(this.parameters.box.width-a[0])}};break;case"rot":this.calc=function(t,e){var a=t+this.parameters.p.x,i=e+this.parameters.p.y,n=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),r=Math.atan2(i-this.parameters.box.y-this.parameters.box.height/2,a-this.parameters.box.x-this.parameters.box.width/2),s=this.parameters.rotation+180*(r-n)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(s-s%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var a=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),i=this.el.array().valueOf();i[this.parameters.i][0]=this.parameters.pointCoords[0]+a[0],i[this.parameters.i][1]=this.parameters.pointCoords[1]+a[1],this.el.plot(i)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),n.a.on(window,"touchmove.resize",function(t){e.update(t||window.event)}),n.a.on(window,"touchend.resize",function(){e.done()}),n.a.on(window,"mousemove.resize",function(t){e.update(t||window.event)}),n.a.on(window,"mouseup.resize",function(){e.done()})},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),a=this.transformPoint(e.x,e.y),i=a.x-this.parameters.p.x,n=a.y-this.parameters.p.y;this.lastUpdateCall=[i,n],this.calc(i,n),this.el.fire("resizing",{dx:i,dy:n,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,n.a.off(window,"mousemove.resize"),n.a.off(window,"mouseup.resize"),n.a.off(window,"touchmove.resize"),n.a.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,a,i){var n;return"undefined"!==typeof i?n=[(a+t)%this.options.snapToGrid,(i+e)%this.options.snapToGrid]:(a=null==a?3:a,n=[(this.parameters.box.x+t+(1&a?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&a?0:this.parameters.box.height))%this.options.snapToGrid]),t<0&&(n[0]-=this.options.snapToGrid),e<0&&(n[1]-=this.options.snapToGrid),t-=Math.abs(n[0])<this.options.snapToGrid/2?n[0]:n[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(n[1])<this.options.snapToGrid/2?n[1]:n[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,a,i)},t.prototype.constraintToBox=function(t,e,a,i){var n,r,s=this.options.constraint||{};return"undefined"!==typeof i?(n=a,r=i):(n=this.parameters.box.x+(1&a?0:this.parameters.box.width),r=this.parameters.box.y+(2&a?0:this.parameters.box.height)),"undefined"!==typeof s.minX&&n+t<s.minX&&(t=s.minX-n),"undefined"!==typeof s.maxX&&n+t>s.maxX&&(t=s.maxX-n),"undefined"!==typeof s.minY&&r+e<s.minY&&(e=s.minY-r),"undefined"!==typeof s.maxY&&r+e>s.maxY&&(e=s.maxY-r),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var a=t.slice(),i=this.parameters.box.width/this.parameters.box.height,n=this.parameters.box.width+t[0],r=this.parameters.box.height-t[1],s=n/r;return s<i?(a[1]=n/i-this.parameters.box.height,e&&(a[1]=-a[1])):s>i&&(a[0]=this.parameters.box.width-r*i,e&&(a[0]=-a[0])),a},n.a.extend(n.a.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),n.a.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(void 0)},function(t,e,a){"use strict";var i=a(2),n=a.n(i);function r(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,a){var i="string"!==typeof t?t:e[t];return a?i/2:i},this.pointCoords=function(t,e){var a=this.pointsList[t];return{x:this.pointCoord(a[0],e,"t"===t||"b"===t),y:this.pointCoord(a[1],e,"r"===t||"l"===t)}}}r.prototype.init=function(t,e){var a=this.el.bbox();this.options={};var i=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==e[r]&&(this.options[r]=e[r]);var s=["points","pointsExclude"];for(var r in s){var o=this.options[s[r]];"string"===typeof o?o=o.length>0?o.split(/\s*,\s*/i):[]:"boolean"===typeof o&&"points"===s[r]&&(o=o?i:[]),this.options[s[r]]=o}this.options.points=[i,this.options.points].reduce(function(t,e){return t.filter(function(t){return e.indexOf(t)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(t,e){return t.filter(function(t){return e.indexOf(t)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new n.a.Matrix(this.el).translate(a.x,a.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},r.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set?this:(this.pointSelection.set=this.parent.set(),this.drawPoints(),this)},r.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map(function(e){return[e[0]-t.x,e[1]-t.y]})},r.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),a=0,i=e.length;a<i;++a){var n=function(e){return function(a){(a=a||window.event).preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation();var i=a.pageX||a.touches[0].pageX,n=a.pageY||a.touches[0].pageY;t.el.fire("point",{x:i,y:n,i:e,event:a})}}(a),r=this.drawPoint(e[a][0],e[a][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",n).on("mousedown",n);this.pointSelection.set.add(r)}},r.prototype.drawPoint=function(t,e){var a=this.options.pointType;switch(a){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"===typeof a)return a.call(this,t,e);throw new Error("Unknown "+a+" point type!")}},r.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).stroke(this.options.pointStroke).fill(this.options.pointFill).center(t,e)},r.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).stroke(this.options.pointStroke).fill(this.options.pointFill).center(t,e)},r.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each(function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])})},r.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map(function(a,i){var n=t.pointCoords(a,e);t.rectSelection.set.get(i+1).center(n.x,n.y)}),this.options.rotationPoint){var a=this.rectSelection.set.length();this.rectSelection.set.get(a-1).center(e.width/2,20)}},r.prototype.selectRect=function(t){var e=this,a=this.el.bbox();function i(t){return function(a){(a=a||window.event).preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation();var i=a.pageX||a.touches[0].pageX,n=a.pageY||a.touches[0].pageY;e.el.fire(t,{x:i,y:n,event:a})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(a.width,a.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2){this.options.points.map(function(t,n){var r=e.pointCoords(t,a),s=e.drawPoint(r.x,r.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",i(t)).on("touchstart",i(t));e.rectSelection.set.add(s)}),this.rectSelection.set.each(function(){this.addClass(e.options.classPoints)})}if(this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var n=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var a=t.pageX||t.touches[0].pageX,i=t.pageY||t.touches[0].pageY;e.el.fire("rot",{x:a,y:i,event:t})},r=this.drawPoint(a.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",n).on("mousedown",n);this.rectSelection.set.add(r)}},r.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new n.a.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},r.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){t.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(e){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){t.handler()})},r.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},n.a.extend(n.a.Element,{selectize:function(t,e){return"object"===typeof t&&(e=t,t=!0),(this.remember("_selectHandler")||new r(this)).init(void 0===t||t,e||{}),this}}),n.a.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!1,deepSelect:!1,pointType:"rect",pointFill:"#000",pointStroke:{width:1,color:"#000"}}},,,function(t,e,a){"use strict";var i=a(3),n=a(4),r=a(7),s=a(6),o=a(8),c=(a(20),a(21),a(22),a(23),a(24),a(25),a(26),a(27),a(13)),l=a(10),u=a(1),h=a(18),_=a(2),p=a.n(_),d=a(5),f=function(t){function e(t,a,n,o,c,l,u){var h;return Object(i.a)(this,e),(h=Object(r.a)(this,Object(s.a)(e).call(this,t,a,n,o,l))).type="Rectangle",h.svg_container=null,h.construct_svg_container(),h.bounding_box=u,h.SVG_reference=p.a.adopt(document.getElementById(h.unique_id)),h.set_on_click(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"set_on_click",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.bounding_box.on("click",function(e){d.c.set_curr_graphical_object(t),l.store.dispatch(Object(u.l)(t))})}},{key:"construct_svg_container",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.svg_container=c.i("#canvas").append("svg").attr("width",this.total_width).attr("height",this.total_height).attr("x",this.x).attr("y",this.y).attr("opacity",this.opacity).attr("id",t.unique_id),t.svg_container.attr("viewBox","0 0 ".concat(this.total_width," ").concat(this.total_height)).attr("preserveAspectRatio","none")}},{key:"select",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.bounding_box.draggable().selectize().resize(),this.bounding_box.on("dragend",function(e){l.store.dispatch(Object(u.e)(t,"x",t.bounding_box.attr("x"))),l.store.dispatch(Object(u.e)(t,"y",t.bounding_box.attr("y")))}),this.bounding_box.on("resizedone",function(e){l.store.dispatch(Object(u.e)(t,"x",t.bounding_box.attr("x"))),l.store.dispatch(Object(u.e)(t,"y",t.bounding_box.attr("y"))),l.store.dispatch(Object(u.e)(t,"width",t.bounding_box.attr("width"))),l.store.dispatch(Object(u.e)(t,"height",t.bounding_box.attr("height")))}),this.bounding_box.on("resizing",function(t){var a=e.bounding_box.attr("x"),i=e.bounding_box.attr("y"),n=e.bounding_box.attr("width"),r=e.bounding_box.attr("height");e.edit_attr({attribute:"x",value:a}),e.edit_attr({attribute:"y",value:i}),e.edit_attr({attribute:"width",value:n}),e.edit_attr({attribute:"height",value:r})}),this.bounding_box.on("dragmove",function(t){var a=e.bounding_box.attr("x"),i=e.bounding_box.attr("y"),n=e.bounding_box.attr("width"),r=e.bounding_box.attr("height");e.edit_attr({attribute:"x",value:a}),e.edit_attr({attribute:"y",value:i}),e.edit_attr({attribute:"width",value:n}),e.edit_attr({attribute:"height",value:r})})}},{key:"deselect",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.bounding_box.selectize(!1).draggable(!1).resize(!1)}}]),e}(h.a);e.a=f},,,,,,,function(t,e,a){"use strict";var i=a(14),n=a(3),r=a(4),s=a(7),o=a(6),c=a(9),l=a(8),u=a(18),h=a(2),_=a.n(h),p=a(5),d=(a(20),a(21),a(22),a(23),a(24),a(25),a(26),a(27),a(10)),f=a(1),b=function(t){function e(t,a,i,r,l,u){var h;return Object(n.a)(this,e),(h=Object(s.a)(this,Object(o.a)(e).call(this,t,a,i,r,l))).type="Rectangle",h.opacity=.1,h.SVG_reference=u,h.SVG_reference.attr("id",h.unique_id),h.set_on_click(),h.styling='"fill":"#e4f1fe","stroke":"black","stroke-width":"2"',h.apply_string_style(),d.store.dispatch(Object(f.b)(Object(c.a)(h))),d.store.dispatch(Object(f.l)(Object(c.a)(h))),h.SVG_reference.on("dragend",function(t){d.store.dispatch(Object(f.e)(Object(c.a)(h),"x",h.SVG_reference.attr("x"))),d.store.dispatch(Object(f.e)(Object(c.a)(h),"y",h.SVG_reference.attr("y")))}),h.SVG_reference.on("resizedone",function(t){d.store.dispatch(Object(f.e)(Object(c.a)(h),"x",h.SVG_reference.attr("x"))),d.store.dispatch(Object(f.e)(Object(c.a)(h),"y",h.SVG_reference.attr("y"))),d.store.dispatch(Object(f.e)(Object(c.a)(h),"width",h.SVG_reference.attr("width"))),d.store.dispatch(Object(f.e)(Object(c.a)(h),"height",h.SVG_reference.attr("height")))}),h}return Object(l.a)(e,t),Object(r.a)(e,[{key:"select",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.SVG_reference.draggable().selectize().resize()}},{key:"deselect",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.SVG_reference.selectize(!1).draggable(!1).resize(!1)}},{key:"edit_attr",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){this.edit_default_attr(t);var e=t.attribute,a=t.value;switch(e){case"additional_styling":return this.styling=a,void this.apply_string_style()}}}},{key:"apply_string_style",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;try{var e=JSON.parse("{"+this.styling+"}");for(var a in console.log(e),e)t.SVG_reference.attr(a,e[a])}catch(i){return}}},{key:"export_attributes",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t={additional_styling:{type:p.b.TEXT_AREA,range:"",tooltips:"The name of the graphical object",value:this.styling}};return Object(i.a)({},this.export_default_attributes(),t)}}],[{key:"create",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a,i=_.a.adopt(document.getElementById("canvas"));i.off("mousedown"),i.off("mouseup");var n=function(t){(a=i.rect()).attr("fill","#e4f1fe"),a.attr("stroke","black"),a.attr("stroke-width","2"),a.draw(t)};i.on("mousedown",n,!1),i.on("mouseup",function t(r){a.draw("stop",r);new e(a.x(),a.y(),a.attr("width"),a.attr("height"),"test_rectangle",a);i.off("mousedown",n),i.off("mouseup",t)},!1)}},{key:"get_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"Rectangle",tooltips:"This is a rectangle",icon_representation:"fa-square",create_fn:e.create}}}]),e}(u.a);e.a=b},function(t,e,a){"use strict";var i=a(3),n=a(4),r=a(7),s=a(6),o=a(9),c=a(8),l=a(18),u=a(2),h=a.n(u),_=(a(20),a(21),a(22),a(23),a(24),a(25),a(26),a(27),a(10)),p=a(1),d=a(5),f=function(t){function e(t,a,n,c,l){var u;Object(i.a)(this,e);var h=t-n,d=a-n;return(u=Object(r.a)(this,Object(s.a)(e).call(this,h,d,2*n,2*n,c))).r=n,u.cx=t,u.cy=a,u.type="Circle",u.SVG_reference=l,u.SVG_reference.attr("id",u.unique_id),u.set_on_click(),u.styling='"fill":"#e4f1fe","stroke":"black","stroke-width":"2"',_.store.dispatch(Object(p.b)(Object(o.a)(u))),_.store.dispatch(Object(p.l)(Object(o.a)(u))),u.SVG_reference.on("dragend",function(t){_.store.dispatch(Object(p.e)(Object(o.a)(u),"cx",u.SVG_reference.attr("cx"))),_.store.dispatch(Object(p.e)(Object(o.a)(u),"cy",u.SVG_reference.attr("cy")))}),u.SVG_reference.on("resizedone",function(t){_.store.dispatch(Object(p.e)(Object(o.a)(u),"cx",u.SVG_reference.attr("cx"))),_.store.dispatch(Object(p.e)(Object(o.a)(u),"cy",u.SVG_reference.attr("cy"))),_.store.dispatch(Object(p.e)(Object(o.a)(u),"r",u.SVG_reference.attr("r")))}),u}return Object(c.a)(e,t),Object(n.a)(e,[{key:"select",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.SVG_reference.draggable().selectize().resize()}},{key:"deselect",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.SVG_reference.selectize(!1).draggable(!1).resize(!1)}},{key:"edit_attr",value:function(t){if(t){this.edit_default_attr(t);var e=t.attribute,a=t.value;switch(e){case"cx":return this.cx=a,void this.SVG_reference.attr("cx",this.cx);case"cy":return this.cy=a,void this.SVG_reference.attr("cy",this.cy);case"radius":this.r=a,this.SVG_reference.attr("r",this.r);break;case"additional_styling":return this.styling=a,void this.apply_string_style()}}}},{key:"apply_string_style",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;try{var e=JSON.parse("{"+this.styling+"}");for(var a in console.log(e),e)t.SVG_reference.attr(a,e[a])}catch(i){return}}},{key:"export_attributes",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{name:{type:d.b.STRING,range:"",tooltips:"The name of the graphical object",value:this.name},radius:{type:d.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],value:this.r},cx:{type:d.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],value:this.cx},cy:{type:d.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],value:this.cy},opacity:{type:d.b.FLOAT,range:[0,1],value:this.opacity},reference_object:{type:void 0,range:void 0,value:this},show:{type:d.b.BOOLEAN,range:[!0,!1],value:this.show},additional_styling:{type:d.b.TEXT_AREA,range:"",tooltips:"The name of the graphical object",value:this.styling}}}}],[{key:"create",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a,i=h.a.adopt(document.getElementById("canvas"));i.off("mousedown"),i.off("mouseup");var n=function(t){(a=i.circle()).attr("fill","#e4f1fe"),a.attr("stroke","black"),a.attr("stroke-width","2"),a.draw(t)};i.on("mousedown",n,!1),i.on("mouseup",function t(r){a.draw("stop",r);var s=a.attr("cx"),o=a.attr("cy"),c=a.attr("r");console.log(s,o,c);new e(s,o,c,"test_circle",a);i.off("mousedown",n),i.off("mouseup",t)},!1)}},{key:"get_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"Circle",tooltips:"This is a circle",icon_representation:"fa-circle",create_fn:e.create}}}]),e}(l.a);e.a=f},function(t,e,a){"use strict";var i=a(14),n=a(3),r=a(4),s=a(7),o=a(6),c=a(9),l=a(8),u=a(30),h=(a(20),a(21),a(22),a(23),a(24),a(25),a(26),a(27),a(13),a(10)),_=a(1),p=a(5),d=a(2),f=a.n(d),b=a(40),m=a.n(b),v=function(t){function e(t,a,i,r,l,u,p){var d;Object(n.a)(this,e),d=Object(s.a)(this,Object(o.a)(e).call(this,t,a,i,r,"Text",l,p));var b=f.a.adopt(document.getElementById("canvas"));d.data=u,d.text=b.text(u),d.SVG_reference.add(d.text),d.font_family="Lobster",d.font_styling='"size":"30","style":"normal"',d.apply_string_style(),h.store.dispatch(Object(_.b)(Object(c.a)(d))),h.store.dispatch(Object(_.l)(Object(c.a)(d)));var m=Object(c.a)(d);return d.bounding_box.on("dragend",function(t){h.store.dispatch(Object(_.e)(Object(c.a)(d),"x",d.bounding_box.attr("x"))),h.store.dispatch(Object(_.e)(Object(c.a)(d),"y",d.bounding_box.attr("y")))}),d.bounding_box.on("resizedone",function(t){h.store.dispatch(Object(_.e)(Object(c.a)(d),"x",d.bounding_box.attr("x"))),h.store.dispatch(Object(_.e)(Object(c.a)(d),"y",d.bounding_box.attr("y"))),h.store.dispatch(Object(_.e)(Object(c.a)(d),"width",d.bounding_box.attr("width"))),h.store.dispatch(Object(_.e)(Object(c.a)(d),"height",d.bounding_box.attr("height")))}),d.bounding_box.on("resizing",function(t){var e=m.bounding_box.attr("x"),a=m.bounding_box.attr("y"),i=m.bounding_box.attr("width"),n=m.bounding_box.attr("height");m.edit_attr({attribute:"x",value:e}),m.edit_attr({attribute:"y",value:a}),m.edit_attr({attribute:"width",value:i}),m.edit_attr({attribute:"height",value:n})}),d.bounding_box.on("dragmove",function(t){var e=m.bounding_box.attr("x"),a=m.bounding_box.attr("y"),i=m.bounding_box.attr("width"),n=m.bounding_box.attr("height");m.edit_attr({attribute:"x",value:e}),m.edit_attr({attribute:"y",value:a}),m.edit_attr({attribute:"width",value:i}),m.edit_attr({attribute:"height",value:n})}),d}return Object(l.a)(e,t),Object(r.a)(e,[{key:"select",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.bounding_box.draggable().selectize().resize()}},{key:"deselect",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.bounding_box.selectize(!1).draggable(!1).resize(!1)}},{key:"edit_attr",value:function(t){if(t){this.edit_default_attr(t);var e=t.attribute,a=t.value;switch(e){case"font_styling":return this.font_styling=a,void this.apply_string_style();case"name":return this.text.text(a),void(this.data=a);case"family":return this.font_family=a,void this.apply_string_style()}this.SVG_reference.attr("viewBox","0 0 ".concat(this.total_width," ").concat(this.total_height))}}},{key:"apply_string_style",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];m.a.load({google:{families:[this.font_family]}});try{var t=JSON.parse("{"+this.font_styling+"}");this.text.font(t),this.text.font("family",this.font_family)}catch(e){return}}},{key:"export_attributes",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t={name:{type:p.b.STRING,range:"",tooltips:"The name of the graphical object",value:this.text.text()},family:{type:p.b.STRING,range:"",tooltips:"The name of the graphical object",value:this.font_family},font_style:{type:p.b.TEXT_AREA,range:"",tooltips:"The name of the graphical object",value:this.font_styling}};return Object(i.a)({},this.export_default_attributes(),t)}}],[{key:"create",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a,i=f.a.adopt(document.getElementById("canvas"));i.off("mousedown"),i.off("mouseup");var n=function(t){(a=i.rect()).draw(t),a.attr("fill","none"),a.attr("stroke","black"),a.attr("stroke-width","2")};i.on("mousedown",n,!1),i.on("mouseup",function t(r){a.draw("stop",r);var s=a.x(),o=a.y(),c=a.attr("width"),l=a.attr("height");a.addClass("bounding-box");new e(s,o,c,l,"test_rectangle","dummy text",a);i.off("mousedown",n),i.off("mouseup",t)},!1)}},{key:"get_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"Text",tooltips:"This is a Text box",icon_representation:"fa-font",create_fn:e.create}}}]),e}(u.a);e.a=v},,function(t,e,a){t.exports=a.p+"static/media/sales.d190930d.csv"},function(t,e,a){"use strict";var i=a(14),n=a(3),r=a(4),s=a(7),o=a(6),c=a(9),l=a(8),u=a(13),h=a(30),_=a(5),p=a(2),d=a.n(p),f=a(41),b=function(){function t(e,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(n.a)(this,t),this.effect_stack=a,this.name=e,this.actor=a.actor,this.duration=a.duration,this.DOM_target_components=[document.getElementById(this.actor.name)],this.exclusive=i,this.enabled=1,this.unique_id="AnimationEffect_"+Object(_.a)(),this.DOM_target_components=[this.actor.svg_container.node()]}return Object(r.a)(t,[{key:"set_target_component",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return t in this.actor.get_targetable_components()?(e.target_component=t,1):(console.log("there is no such component"),-1)}},{key:"set_actor",value:function(t){this.actor=t}},{key:"set_exclusiveness",value:function(t){this.exclusive=t}},{key:"set_effect_stack",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.effect_stack=t}},{key:"get_targetable_components",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).actor.get_targetable_components()}},{key:"set_duration",value:function(t){this.duration=t}},{key:"reachTo",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"play",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"pause",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"resume",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"stop",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"edit_default_attr",value:function(t){if(t){var e=t.attribute,a=t.value;switch(e){case"name":return void(this.name=a);case"enabled":this.enabled=a,this.reconstruct_graph()}}}},{key:"reconstruct_graph",value:function(){}},{key:"edit_attr",value:function(t){this.edit_default_attr(t)}},{key:"export_default_attributes",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{name:{type:_.b.CONST,range:"",tooltips:"The name of the the effect",value:this.name},enabled:{type:_.b.BOOLEAN,range:[0,1],value:this.enabled},reference_object:{type:null,range:null,value:this}}}},{key:"export_attributes",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).export_default_attributes()}},{key:"export_state",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.export_attributes()}}],[{key:"get_name",value:function(){return this.name}}]),t}(),m=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(s.a)(this,Object(o.a)(e).call(this,"MoveTo",t,!0))).start_x=a.actor.x,a.start_y=a.actor.y,a.end_x=a.actor.x,a.end_y=a.actor.y,a.targetable_components={CONTAINER:"CONTAINER","X AXIS":"X AXIS","y AXIS":"Y AXIS","XY AXIS":"XY AXIS",BAR:"BAR"},a.curr_target_component=a.DOM_target_components.CONTAINER,a.DOM_target_components=[a.actor.svg_container.node()],a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"reachTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.enabled&&(t<0||t>=e.duration||this.DOM_target_components.forEach(function(a){var i=d.a.adopt(a);i.play(),i.stop();var n=e.start_x+(e.end_x-e.start_x)*t/e.duration,r=e.start_y+(e.end_y-e.start_y)*t/e.duration;i.x(n),i.y(r)}))}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.reachTo(0),e.enabled&&this.DOM_target_components.forEach(function(a){d.a.adopt(a).animate(e.duration-t).move(e.end_x,e.end_y)})}},{key:"pause",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.DOM_target_components.forEach(function(t){d.a.adopt(t).pause()})}},{key:"resume",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).enabled&&this.DOM_target_components.forEach(function(t){d.a.adopt(t).play()})}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.reachTo(0),this.DOM_target_components.forEach(function(t){d.a.adopt(t).stop()}),t.actor.SVG_reference.show()}},{key:"edit_attr",value:function(t){if(t){this.edit_default_attr(t);var e=t.attribute,a=t.value;switch(e){case"start_x":return void(this.start_x=a);case"end_x":return void(this.end_x=a);case"start_y":return void(this.start_y=a);case"end_y":return void(this.end_y=a)}}}},{key:"export_attributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e={start_x:{type:_.b.CONST,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],tooltips:"The beginning x position",value:this.start_x},end_x:{type:_.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],tooltips:"The beginning x position",value:this.end_x},start_y:{type:_.b.CONST,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],tooltips:"The beginning x position",value:this.start_y},end_y:{type:_.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],tooltips:"The beginning x position",value:this.end_y}};return Object(i.a)({},t.export_default_attributes(),e)}}],[{key:"get_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{name:"Move",tooltips:"Move an object from a starting location to an end location",icon_representation:"",create_fn:e.create}}},{key:"create",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(t)}}]),e}(b),v=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(s.a)(this,Object(o.a)(e).call(this,"Fade Effect",t,!0))).original_opacity=a.actor.opacity,a.start_opacity=a.actor.opacity,a.end_opacity=a.actor.opacity,a.targetable_components={CONTAINER:"CONTAINER","X AXIS":"X AXIS","y AXIS":"Y AXIS","XY AXIS":"XY AXIS",BAR:"BAR"},a.curr_target_component=a.DOM_target_components.CONTAINER,a.DOM_target_components=[a.actor.svg_container.node()],a.reachTo(0),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"reachTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.enabled&&(t<0||t>=e.duration||this.DOM_target_components.forEach(function(a){var i=d.a.adopt(a);i.play(),i.stop();var n=e.start_opacity+(e.end_opacity-e.start_opacity)*t/e.duration;i.opacity(n)}))}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.reachTo(0),e.enabled&&this.DOM_target_components.forEach(function(a){d.a.adopt(a).animate(e.duration-t).opacity(e.end_opacity)})}},{key:"pause",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).enabled&&this.DOM_target_components.forEach(function(t){d.a.adopt(t).pause()})}},{key:"resume",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).enabled&&this.DOM_target_components.forEach(function(t){d.a.adopt(t).play()})}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.enabled&&(this.DOM_target_components.forEach(function(t){d.a.adopt(t).stop()}),t.actor.SVG_reference.show())}},{key:"edit_attr",value:function(t){if(t){this.edit_default_attr(t);var e=t.attribute,a=t.value;switch(e){case"start_opacity":return void(this.start_opacity=a);case"end_opacity":return void(this.end_opacity=a)}}}},{key:"reconstruct_graph",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.DOM_target_components.forEach(function(e){d.a.adopt(e).opacity(t.original_opacity)})}},{key:"export_attributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e={start_opacity:{type:_.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],tooltips:"The beginning opacity",value:this.start_opacity},end_opacity:{type:_.b.INT,range:[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],tooltips:"The end opacity",value:this.end_opacity}};return Object(i.a)({},t.export_default_attributes(),e)}}],[{key:"get_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{name:"Fade",tooltips:"Fade an object from opacity to another opacity",icon_representation:"",create_fn:e.create}}},{key:"create",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(t)}}]),e}(b),g=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(s.a)(this,Object(o.a)(e).call(this,"BarGrowByOne",t,!0))).bars=a.actor.bars,a.graph_height=a.actor.graph_height,a.y_scale=a.actor.y_scale,a.y_data=a.actor.y_data,a.curr_percent=0,a.reachTo(0),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"reachTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.enabled&&e.bars.attr("y",function(a,i){var n=t/e.duration;return e.y_scale(a[e.y_data]*n)}).attr("height",function(a,i){var n=t/e.duration,r=e.y_scale(a[e.y_data]*n);return e.graph_height-r})}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e.enabled&&(e.reachTo(t),e.bars.attr("T",0),e.bars.transition().duration(e.duration-t).attr("y",function(t){return e.y_scale(t[e.y_data])}).attr("T",1).attr("height",function(t){return e.graph_height-e.y_scale(t[e.y_data])}))}},{key:"pause",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.bars.interrupt(),this.curr_percent=t.bars.attr("T")}},{key:"resume",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).enabled){var t=this.curr_percent*this.duration;console.log(t),this.play(t)}}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.reachTo(0),t.bars.interrupt(),t.actor.SVG_reference.show()}},{key:"reconstruct_graph",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.bars.attr("y",function(e){return t.y_scale(e[t.y_data])}).attr("height",function(e){return t.graph_height-t.y_scale(e[t.y_data])}),this.reachTo(0)}},{key:"edit_attr",value:function(t){if(t){this.edit_default_attr(t);var e=t.attribute,a=t.value;switch(e){case"start_per":return void(this.start_per=a);case"end_per":return void(this.end_per=a)}}}},{key:"export_attributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return Object(i.a)({},t.export_default_attributes(),{})}}],[{key:"get_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{name:"Bar Grow",tooltips:"Make the bar grow from 0 to full height",icon_representation:"",create_fn:e.create}}},{key:"create",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(t)}}]),e}(b),y=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(s.a)(this,Object(o.a)(e).call(this,"Bar Sort",t,!0))).bars=a.actor.bars,a.graph_height=a.actor.graph_height,a.y_scale=a.actor.y_scale,a.x_scale=a.actor.x_scale,a.y_data=a.actor.y_data,a.x_data=a.actor.x_data,a.x_axis=a.actor.x_axis,a.curr_percent=0,a.DOM_target_components=[a.actor.svg_container.node()],a.data=JSON.parse(JSON.stringify(a.actor.data)),a}return Object(l.a)(e,t),Object(r.a)(e,[{key:"reachTo",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"play",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if(t.enabled){t.data.sort(function(e,a){return e[t.y_data]-a[t.y_data]}),t.x_scale.domain(t.data.map(function(e){return e[t.x_data]}));var e=this.actor.svg_container.transition().duration(this.duration-50*this.data.length);this.bars.data(t.data,function(e){return e[t.x_data]}).transition(e).delay(function(t,e){return 20*e}).attr("x",function(e){return t.x_scale(e[t.x_data])+5}),this.x_axis.transition(e).call(u.a(t.x_scale)).selectAll(".x_axis").delay(function(t,e){return 20*e})}}},{key:"pause",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"resume",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).enabled}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.actor.SVG_reference.show(),this.bars.interrupt(),t.data=JSON.parse(JSON.stringify(this.actor.data)),t.x_scale.domain(t.data.map(function(e){return e[t.x_data]})),this.bars.data(t.data,function(e){return e[t.x_data]}).attr("x",function(e){return t.x_scale(e[t.x_data])+5})}},{key:"reconstruct_graph",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.actor.SVG_reference.clear(),this.actor.construct_graph()}},{key:"edit_attr",value:function(t){if(t){this.edit_default_attr(t);var e=t.attribute,a=t.value;switch(e){case"start_per":return void(this.start_per=a);case"end_per":return void(this.end_per=a)}}}},{key:"export_attributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return Object(i.a)({},t.export_default_attributes(),{})}}],[{key:"get_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{name:"Bar Sort",tooltips:"Make the bar grow from 0 to full height",icon_representation:"",create_fn:e.create}}},{key:"create",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(t)}}]),e}(b),x=a(1),E=a(10),O=function(t){function e(t,a,i,r,l,u){var h;Object(n.a)(this,e),(h=Object(s.a)(this,Object(o.a)(e).call(this,t,a,i,r,"Simple Bar Chart",l,u))).x_axis=null,h.y_axis=null,h.bars=null,h.x_data=null,h.y_data=null,h.columns=null,h.x_scale=null,h.y_scale=null,h.inner_graph=null,h.margin={top:20,right:20,bottom:20,left:20},h.graph_width=h.total_width-h.margin.left-h.margin.right,h.graph_height=h.total_height-h.margin.top-h.margin.bottom,h.raw_data=f,h.data="",h.axis_styling={},h.bar_styling='"fill":"lightblue","stroke":"lightblue","stroke-width":"1"',h.import_data(),h.effect_bps=[y.get_blueprint(),m.get_blueprint(),v.get_blueprint(),g.get_blueprint()],E.store.dispatch(Object(x.b)(Object(c.a)(h))),E.store.dispatch(Object(x.l)(Object(c.a)(h)));var _=Object(c.a)(h);return h.bounding_box.on("dragend",function(t){E.store.dispatch(Object(x.e)(Object(c.a)(h),"x",h.bounding_box.attr("x"))),E.store.dispatch(Object(x.e)(Object(c.a)(h),"y",h.bounding_box.attr("y"))),h.svg_container.attr("viewBox","0 0 ".concat(h.total_width," ").concat(h.total_height)),h.SVG_reference.clear(),h.construct_graph(),console.log("a")}),h.bounding_box.on("resizedone",function(t){E.store.dispatch(Object(x.e)(Object(c.a)(h),"x",h.bounding_box.attr("x"))),E.store.dispatch(Object(x.e)(Object(c.a)(h),"y",h.bounding_box.attr("y"))),E.store.dispatch(Object(x.e)(Object(c.a)(h),"width",h.bounding_box.attr("width"))),E.store.dispatch(Object(x.e)(Object(c.a)(h),"height",h.bounding_box.attr("height"))),h.svg_container.attr("viewBox","0 0 ".concat(h.total_width," ").concat(h.total_height)),h.SVG_reference.clear(),h.construct_graph()}),h.bounding_box.on("resizing",function(t){var e=_.bounding_box.attr("x"),a=_.bounding_box.attr("y"),i=_.bounding_box.attr("width"),n=_.bounding_box.attr("height");_.edit_attr({attribute:"x",value:e}),_.edit_attr({attribute:"y",value:a}),_.edit_attr({attribute:"width",value:i}),_.edit_attr({attribute:"height",value:n})}),h.bounding_box.on("dragmove",function(t){var e=_.bounding_box.attr("x"),a=_.bounding_box.attr("y"),i=_.bounding_box.attr("width"),n=_.bounding_box.attr("height");_.edit_attr({attribute:"x",value:e}),_.edit_attr({attribute:"y",value:a}),_.edit_attr({attribute:"width",value:i}),_.edit_attr({attribute:"height",value:n})}),h}return Object(l.a)(e,t),Object(r.a)(e,[{key:"import_data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;u.d(this.raw_data).then(function(e){t.data=e,t.columns=Object.keys(t.data[0]),t.x_data=t.columns[0],t.y_data=t.columns[1],t.SVG_reference.clear(),t.construct_graph()})}},{key:"construct_inner_graph",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.inner_graph=t.svg_container.append("g").attr("class","inner_graph").attr("transform","translate("+t.margin.left+","+t.margin.top+")")}},{key:"construct_x_axis",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.x_scale=u.g().range([0,t.graph_width]),t.x_scale.domain(t.data.map(function(e){return e[t.x_data]})),this.x_axis=t.inner_graph.append("g").attr("class","x_axis").attr("transform","translate(0,"+t.graph_height+")").call(u.a(t.x_scale))}},{key:"construct_y_axis",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.y_scale=u.h().range([t.graph_height,0]),this.y_scale.domain([0,u.f(t.data,function(e){return e[t.y_data]})]),this.y_axis=t.inner_graph.append("g").attr("class","y_axis").call(u.b(t.y_scale))}},{key:"select",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.bounding_box.draggable().selectize().resize()}},{key:"construct_graph",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.construct_inner_graph(),t.construct_x_axis(),t.construct_y_axis(),t.bars=t.inner_graph.selectAll("."+t.name+"_bar").data(t.data).enter().append("rect").attr("class",t.name+"_bar").attr("x",function(e){return t.x_scale(e[t.x_data])+5}).attr("width",function(e){return t.x_scale.bandwidth()-10}).attr("y",function(e){return t.y_scale(e[t.y_data])}).attr("height",function(e){return t.graph_height-t.y_scale(e[t.y_data])}),this.apply_bar_string_styling()}},{key:"get_targetable_components",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return{svg_container:t.svg_container,inner_graph:t.inner_graph,bars:t.bars,x_axis:t.x_axis,y_axis:t.y_axis}}},{key:"export_attributes",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t={bar_styling:{type:_.b.TEXT_AREA,range:"",tooltips:"The name of the graphical object",value:this.bar_styling}};return Object(i.a)({},this.export_default_attributes(),t)}},{key:"edit_attr",value:function(t){if(t){this.edit_default_attr(t);var e=t.attribute,a=t.value;switch(e){case"bar_styling":return this.bar_styling=a,void this.apply_bar_string_styling();case"axis_styling":return this.axis_styling=JSON.parse(a),this.SVG_reference.clear(),void this.construct_graph()}this.graph_width=this.total_width-this.margin.left-this.margin.right,this.graph_height=this.total_height-this.margin.top-this.margin.bottom,this.bounding_box.attr("x",this.x),this.bounding_box.attr("y",this.y),this.bounding_box.attr("width",this.total_width),this.bounding_box.attr("height",this.total_height)}}},{key:"apply_bar_string_styling",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;try{var e=JSON.parse("{"+this.bar_styling+"}");for(var a in e)t.bars.attr(a,e[a])}catch(i){return}}}],[{key:"create",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a,i=d.a.adopt(document.getElementById("canvas"));i.off("mousedown"),i.off("mouseup");var n=function(t){(a=i.rect()).attr("fill","none"),a.attr("stroke","black"),a.attr("stroke-width","2"),a.draw(t)};i.on("mousedown",n,!1),i.on("mouseup",function t(r){a.draw("stop",r);var s=a.x(),o=a.y(),c=a.attr("width"),l=a.attr("height");a.addClass("bounding-box");new e(s,o,c,l,"simple bar graph",a);i.off("mousedown",n),i.off("mouseup",t)},!1)}},{key:"get_blueprint",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"Simple Bar Chart",tooltips:"This is a simple bar chart",icon_representation:"fa-chart-bar",create_fn:e.create}}}]),e}(h.a);e.a=O},function(t,e,a){t.exports=a(10)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){}],[[43,1,2]]]);
//# sourceMappingURL=main.4f699f93.chunk.js.map